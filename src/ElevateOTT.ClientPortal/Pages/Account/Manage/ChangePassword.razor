<ServerSideValidator @ref="ServerSideValidator" />
<EditForm Model="ChangePasswordCommand" OnValidSubmit="ChangeUserPassword">
    <EditContextServerSideValidator @ref="EditContextServerSideValidator" />
    <FluentValidationValidator />
    <MudCard>
        <MudCardHeader>
            <CardHeaderContent>
                <MudText Typo="Typo.h6">@Resource.Change_Password</MudText>
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <MudTextField Label="@Resource.Current_password"
                          Variant="Variant.Outlined"
                          @bind-Value="@ChangePasswordCommand.OldPassword"
                          For="@(() => ChangePasswordCommand.OldPassword)"
                          InputType="@PasswordInput"
                          Adornment="Adornment.End"
                          AdornmentIcon="@PasswordInputIcon"
                          OnAdornmentClick="TogglePasswordVisibility" />
            <MudTextField Label="@Resource.Password"
                          Variant="Variant.Outlined"
                          @bind-Value="ChangePasswordCommand.NewPassword"
                          For="@(() => ChangePasswordCommand.NewPassword)"
                          InputType="@PasswordInput"
                          Adornment="Adornment.End"
                          AdornmentIcon="@PasswordInputIcon"
                          OnAdornmentClick="TogglePasswordVisibility" />
            <MudTextField Label="@Resource.Confirm_Password"
                          Variant="Variant.Outlined"
                          @bind-Value="ChangePasswordCommand.ConfirmPassword"
                          For="@(() => ChangePasswordCommand.ConfirmPassword)"
                          InputType="@PasswordInput"
                          Adornment="Adornment.End"
                          AdornmentIcon="@PasswordInputIcon"
                          OnAdornmentClick="TogglePasswordVisibility" />
        </MudCardContent>
        <MudCardActions Class="pb-4 pl-4">
            <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" FullWidth="true">@Resource.Submit</MudButton>
        </MudCardActions>
        <MudDivider />
        <MudExpansionPanels>
            <MudExpansionPanel Text="@Resource.Validation_Summary" IsExpanded="true" Disabled="true" HideIcon="true">
                <MudText Color="@Color.Error">
                    <ValidationSummary />
                </MudText>
            </MudExpansionPanel>
        </MudExpansionPanels>
    </MudCard>
</EditForm>
@code {

}